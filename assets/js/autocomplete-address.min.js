/*!
 * WooCommerce Brazilian Postcodes 2016.
 *
 * Autocomplete address with postcodes.
 *
 * Version: 1.0.0
 */
jQuery(function(a){var b={init:function(){this.autocomplate("billing",!0),a("#billing_postcode").on("blur",function(){b.autocomplate("billing")}),a("#shipping_postcode").on("blur",function(){b.autocomplate("shipping")})},block:function(){a("form.checkout, form#order_review").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){a("form.checkout, form#order_review").removeClass("processing").unblock()},autocomplate:function(c,d){if(d=d||!1,a("#"+c+"_postcode").length){var e=a("#"+c+"_postcode").val().replace(".","").replace("-",""),f=a("#"+c+"_country").val(),g=a("#"+c+"_address_1").val();""!==e&&8===e.length&&"BR"===f&&0===g.length&&(b.block(),a.ajax({type:"GET",url:wcBrazilianPostcodesParams.url+"&postcode="+e,dataType:"json",contentType:"application/json",success:function(a){if(a.success&&(b.fillFields(c,a.data),d)){var e="billing"===c?"shipping":"billing";b.fillFields(e,a.data)}b.unblock()}}))}},fillFields:function(b,c){a("#"+b+"_address_1").val(c.address).change(),a("#"+b+"_neighborhood").length?a("#"+b+"_neighborhood").val(c.neighborhood).change():a("#"+b+"_address_2").val(c.neighborhood).change(),a("#"+b+"_city").val(c.city).change(),a("#"+b+"_state option:selected").attr("selected",!1).change(),a("#"+b+'_state option[value="'+c.state+'"]').attr("selected","selected").change(),a("#"+b+"_state").trigger("liszt:updated").trigger("chosen:updated")}};b.init()});